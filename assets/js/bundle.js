(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

'use strict';

exports['default'] = _react2['default'].createElement(
	'g',
	null,
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M350.004,113.379c-14.709-8.508-31.787-13.377-50.003-13.377c0-18.216-4.869-35.294-13.377-50.003 c18.216,0,35.283,4.879,49.992,13.388C345.125,78.096,350.004,95.163,350.004,113.379z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M350.004,286.625c0,18.206-4.879,35.283-13.388,49.992c-14.709,8.508-31.787,13.388-49.992,13.388 c8.508-14.709,13.377-31.787,13.377-50.003C318.218,300.002,335.295,295.133,350.004,286.625z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M199.997,199.966c-0.285-0.498-0.579-0.986-0.874-1.474c-7.98-14.363-12.524-30.892-12.524-48.488 c0-0.01,0-0.031,0-0.041C195.118,164.673,199.987,181.75,199.997,199.966z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M163.351,236.652c-8.488,14.699-13.347,31.766-13.347,49.952c0,0.01,0,0.01,0,0.02 c-14.709,8.508-31.787,13.377-50.003,13.377c0-18.216,4.869-35.294,13.377-50.003c0.01,0,0.01,0,0.02,0 C131.595,249.999,148.652,245.14,163.351,236.652z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M336.627,163.392c8.508-14.709,13.377-31.787,13.377-49.992c0-0.01,0-0.01,0-0.02 c15.166,8.773,27.812,21.418,36.595,36.584c0,0.01,0,0.03,0,0.041c0,18.216-4.869,35.294-13.377,50.003 C364.449,184.83,351.794,172.175,336.627,163.392z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M200.007,26.772c15.166,8.783,27.822,21.428,36.605,36.605c-15.177,8.773-27.832,21.428-36.615,36.595 c-8.783-15.166-21.438-27.822-36.605-36.595C172.175,48.2,184.83,35.544,200.007,26.772z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M198.614,200.8c0.447-0.244,0.884-0.498,1.332-0.742c-0.274,0.488-0.549,0.966-0.823,1.454 c-8.742,14.526-21.083,26.653-35.771,35.141c8.488-14.699,20.615-27.029,35.141-35.781 C198.533,200.851,198.574,200.83,198.614,200.8z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M336.617,63.387c-14.709-8.508-31.776-13.388-49.992-13.388c-8.773-15.166-21.418-27.822-36.595-36.605 C287.021,13.405,319.326,33.511,336.617,63.387z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M336.617,336.617c-17.291,29.875-49.596,49.972-86.587,49.982c15.177-8.783,27.822-21.428,36.595-36.595 C304.83,350.004,321.908,345.125,336.617,336.617z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M250.03,186.599c18.216,0.01,35.283,4.879,49.992,13.398c-14.709,8.518-31.776,13.388-49.992,13.398 c-14.699-8.518-31.776-13.388-49.992-13.398C218.253,199.987,235.331,195.118,250.03,186.599z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M199.123,198.492c0.264,0.488,0.539,0.966,0.813,1.443c-0.478-0.274-0.956-0.549-1.443-0.813 c-14.526-8.742-26.653-21.083-35.141-35.771C178.04,171.839,190.381,183.966,199.123,198.492z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M163.351,163.351c-14.699-8.488-31.756-13.347-49.952-13.347c-0.01,0-0.01,0-0.02,0 c-8.508-14.709-13.377-31.787-13.377-50.003c18.216,0,35.294,4.869,50.003,13.377c0,0.01,0,0.01,0,0.02 C150.004,131.595,154.863,148.652,163.351,163.351z' }),
	_react2['default'].createElement('path', { d: 'M200.027,200.007c0,0.01,0.01,0.031,0.02,0.041c-0.01-0.01-0.031-0.02-0.041-0.02c0-0.01,0-0.01,0-0.01 c0.01-0.01,0.01-0.01,0.01-0.01H200.027z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M386.599,149.964c-8.783-15.166-21.428-27.812-36.595-36.584c0-18.216-4.879-35.283-13.388-49.992 C366.482,80.678,386.589,112.973,386.599,149.964z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M300.002,100.002c18.216,0,35.294,4.869,50.003,13.377c0,0.01,0,0.01,0,0.02 c0,18.206-4.869,35.283-13.377,49.992c-14.709-8.508-31.787-13.388-50.003-13.388 C295.133,135.295,300.002,118.218,300.002,100.002z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M200.007,200.017c0,0,0,0,0,0.01h-0.01v-0.01C199.997,200.017,199.997,200.017,200.007,200.017z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M199.997,200.037c-0.01,18.216-4.879,35.283-13.398,49.992c0-0.01,0-0.02,0-0.03 c0-17.596,4.544-34.135,12.524-48.488C199.417,201.024,199.712,200.525,199.997,200.037z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M200.007,26.772c-15.177,8.773-27.832,21.428-36.615,36.605c-14.709-8.508-31.776-13.377-49.992-13.377 c-0.01,0-0.01,0-0.02,0c8.773-15.166,21.418-27.822,36.585-36.605c0.01,0,0.03,0,0.041,0 C168.22,13.395,185.298,18.264,200.007,26.772z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M250.03,13.395c15.177,8.783,27.822,21.438,36.595,36.605c-0.01,0-0.01,0-0.02,0 c-18.206,0-35.283,4.869-49.992,13.377c-8.783-15.177-21.438-27.822-36.605-36.605c14.709-8.508,31.776-13.377,49.992-13.377 C250.01,13.395,250.02,13.395,250.03,13.395z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M113.4,150.004c18.196,0,35.253,4.859,49.952,13.347c8.488,14.689,20.615,27.029,35.141,35.771 c-14.363-7.98-30.892-12.523-48.488-12.523c-0.01,0-0.03,0-0.041,0c-15.166-8.783-27.812-21.428-36.585-36.595 C113.389,150.004,113.389,150.004,113.4,150.004z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M149.964,213.395c14.709-8.518,31.787-13.388,50.003-13.398c-0.457,0.264-0.905,0.529-1.352,0.803 c-0.041,0.03-0.081,0.051-0.122,0.071c-14.363,7.98-30.892,12.524-48.488,12.524C149.994,213.395,149.974,213.395,149.964,213.395 z' }),
	_react2['default'].createElement('path', { d: 'M200.017,199.997v0.01c0,0,0,0-0.01,0.01c-0.01,0-0.01,0-0.01,0c0-0.01,0-0.01,0-0.02 C200.007,199.997,200.007,199.997,200.017,199.997z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M186.599,149.964c-8.783-15.166-21.428-27.812-36.595-36.584c0-18.216,4.879-35.294,13.388-50.003 c15.166,8.773,27.822,21.428,36.605,36.595C191.478,114.68,186.609,131.758,186.599,149.964z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M213.395,250.03c-8.518-14.709-13.388-31.776-13.398-49.992c0.285,0.488,0.579,0.986,0.874,1.474 c7.98,14.363,12.523,30.892,12.523,48.488C213.395,250.01,213.395,250.02,213.395,250.03z' }),
	_react2['default'].createElement('path', { d: 'M199.997,199.997c0,0.01,0,0.01,0,0.02c-0.01,0-0.01-0.01-0.02-0.01c0-0.01,0-0.01,0-0.01 C199.987,199.997,199.987,199.997,199.997,199.997z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M186.599,250.03c8.518-14.709,13.388-31.776,13.398-49.992c0.01,18.216,4.879,35.283,13.398,49.992 c-0.01,18.216-4.879,35.283-13.398,49.992C191.478,285.313,186.609,268.246,186.599,250.03z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M250.03,213.395c-0.01,0-0.02,0-0.031,0c-17.596,0-34.135-4.544-48.488-12.524 c-0.488-0.295-0.986-0.59-1.474-0.874C218.253,200.007,235.331,204.876,250.03,213.395z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M149.964,186.599c14.709,8.518,31.787,13.388,50.003,13.398c-18.216,0.01-35.294,4.879-50.003,13.398 c-18.206-0.01-35.283-4.879-49.992-13.398C114.68,191.478,131.758,186.609,149.964,186.599z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M213.395,249.999c0-17.596-4.544-34.125-12.523-48.488c8.752,14.526,21.083,26.653,35.781,35.141 c8.488,14.699,13.347,31.766,13.347,49.952c0,0.01,0,0.01,0,0.02c-15.166-8.783-27.822-21.428-36.605-36.595 C213.395,250.02,213.395,250.01,213.395,249.999z' }),
	_react2['default'].createElement('path', { d: 'M200.037,199.997c0.488,0.285,0.986,0.579,1.474,0.874c-0.498-0.274-0.976-0.549-1.464-0.823 c-0.01-0.01-0.02-0.031-0.02-0.041v-0.01H200.037z' }),
	_react2['default'].createElement('path', { d: 'M199.123,198.492c0.295,0.488,0.59,0.976,0.874,1.474c-0.02,0-0.041-0.02-0.061-0.03 C199.661,199.458,199.387,198.98,199.123,198.492z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M199.123,201.511c-7.98,14.353-12.524,30.892-12.524,48.488c0,0.01,0,0.02,0,0.03 c-8.783,15.166-21.428,27.812-36.595,36.595c0-0.01,0-0.01,0-0.02c0-18.186,4.859-35.253,13.347-49.952 C178.04,228.165,190.381,216.037,199.123,201.511z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M300.022,199.997c15.177,8.783,27.822,21.438,36.605,36.615c-14.709,8.508-31.787,13.388-50.003,13.388 c-8.773-15.166-21.418-27.822-36.595-36.605C268.246,213.384,285.313,208.515,300.022,199.997z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M199.966,199.997c-18.216-0.01-35.294-4.879-50.003-13.398c0.01,0,0.03,0,0.041,0 c17.596,0,34.125,4.544,48.488,12.523C198.98,199.417,199.468,199.712,199.966,199.997z' }),
	_react2['default'].createElement('path', { d: 'M199.936,199.936c0.01,0.02,0.03,0.041,0.03,0.061c-0.498-0.285-0.986-0.579-1.474-0.874 C198.98,199.387,199.458,199.661,199.936,199.936z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M250.03,213.395c15.177,8.783,27.822,21.438,36.595,36.605c-0.01,0-0.01,0-0.02,0 c-18.186,0-35.253-4.859-49.952-13.347c-8.488-14.699-20.615-27.029-35.141-35.781c14.353,7.98,30.892,12.524,48.488,12.524 C250.01,213.395,250.02,213.395,250.03,213.395z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M163.351,163.351c-8.488-14.699-13.347-31.756-13.347-49.952c0-0.01,0-0.01,0-0.02 c15.166,8.773,27.812,21.418,36.595,36.584c0,0.01,0,0.03,0,0.041c0,17.596,4.544,34.125,12.524,48.488 C190.381,183.966,178.04,171.839,163.351,163.351z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M336.627,163.392c-8.783,15.166-21.428,27.822-36.605,36.605c-14.709-8.518-31.776-13.388-49.992-13.398 c15.177-8.783,27.822-21.428,36.595-36.595C304.841,150.004,321.918,154.884,336.627,163.392z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M199.123,201.511c0.274-0.488,0.549-0.966,0.823-1.454c0.01-0.01,0.02-0.02,0.041-0.03c0,0,0,0,0.01,0 v0.01C199.712,200.525,199.417,201.024,199.123,201.511z' }),
	_react2['default'].createElement('path', { d: 'M199.997,200.017v0.01c-0.01,0-0.01,0-0.01,0c0-0.01,0-0.02-0.01-0.02C199.987,200.007,199.987,200.017,199.997,200.017z' }),
	_react2['default'].createElement('path', { d: 'M200.871,201.511c-0.295-0.488-0.59-0.986-0.874-1.474v-0.01h0.01c0.01,0,0.03,0.01,0.041,0.02 C200.322,200.536,200.597,201.013,200.871,201.511z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M201.511,200.871c14.526,8.752,26.653,21.083,35.141,35.781c-14.699-8.488-27.029-20.615-35.781-35.141 c-0.274-0.498-0.549-0.976-0.823-1.464C200.536,200.322,201.013,200.597,201.511,200.871z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M336.627,236.612c-8.783-15.177-21.428-27.832-36.605-36.615c15.177-8.783,27.822-21.438,36.605-36.605 c15.166,8.783,27.822,21.438,36.595,36.615C364.449,215.173,351.794,227.829,336.627,236.612z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M250.03,13.395c-0.01,0-0.02,0-0.031,0c-18.216,0-35.283,4.869-49.992,13.377 c-14.709-8.508-31.787-13.377-50.003-13.377c-0.01,0-0.03,0-0.041,0c14.719-8.518,31.807-13.398,50.033-13.398 S235.311,4.876,250.03,13.395z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M163.392,63.377c-8.508,14.709-13.388,31.787-13.388,50.003c-14.709-8.508-31.787-13.377-50.003-13.377 c0-18.216,4.869-35.294,13.377-50.003c0.01,0,0.01,0,0.02,0C131.616,49.999,148.683,54.868,163.392,63.377z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M150.004,286.625c15.166-8.783,27.812-21.428,36.595-36.595c0.01,18.216,4.879,35.283,13.398,49.992 c-8.783,15.177-21.438,27.822-36.605,36.605C154.884,321.918,150.004,304.841,150.004,286.625z' }),
	_react2['default'].createElement('path', { d: 'M201.511,199.123c-0.488,0.295-0.986,0.59-1.474,0.874h-0.01v-0.01c0.01-0.02,0.02-0.031,0.031-0.041 C200.536,199.672,201.023,199.397,201.511,199.123z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M150.004,213.395c17.596,0,34.125-4.544,48.488-12.524c-14.526,8.752-26.653,21.083-35.141,35.781 c-14.699,8.488-31.756,13.347-49.952,13.347c-0.01,0-0.01,0-0.02,0c8.773-15.166,21.418-27.822,36.585-36.605 C149.974,213.395,149.994,213.395,150.004,213.395z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M200.871,198.492c7.98-14.363,12.523-30.892,12.523-48.488c0-0.01,0-0.031,0-0.041 c8.783-15.166,21.438-27.812,36.605-36.584c0,0.01,0,0.01,0,0.02c0,18.196-4.859,35.253-13.347,49.952 C221.954,171.839,209.623,183.966,200.871,198.492z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M150.004,286.625c0,18.216,4.879,35.294,13.388,50.003c-14.709,8.508-31.776,13.377-49.992,13.377 c-0.01,0-0.01,0-0.02,0c-8.508-14.709-13.377-31.787-13.377-50.003C118.218,300.002,135.295,295.133,150.004,286.625z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M249.999,186.599c0.01,0,0.02,0,0.031,0c-14.699,8.518-31.776,13.388-49.992,13.398 c0.488-0.285,0.986-0.579,1.474-0.874C215.865,191.143,232.403,186.599,249.999,186.599z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M350.004,286.625c15.166-8.783,27.812-21.428,36.595-36.595c-0.01,36.991-20.107,69.296-49.982,86.587 C345.125,321.908,350.004,304.83,350.004,286.625z' }),
	_react2['default'].createElement('path', { d: 'M199.976,199.997c0,0,0,0,0,0.01c-0.01,0.02-0.02,0.031-0.03,0.051c-0.447,0.244-0.884,0.498-1.332,0.742 c0.447-0.274,0.895-0.539,1.352-0.803H199.976z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M286.625,150.004c-8.773,15.166-21.418,27.812-36.595,36.595c-0.01,0-0.02,0-0.031,0 c-17.596,0-34.135,4.544-48.488,12.523c14.526-8.742,26.653-21.083,35.141-35.771c14.699-8.488,31.766-13.347,49.952-13.347 C286.614,150.004,286.614,150.004,286.625,150.004z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M200.871,198.492c8.752-14.526,21.083-26.653,35.781-35.141c-8.488,14.689-20.615,27.029-35.141,35.771 c-0.488,0.274-0.976,0.549-1.454,0.823C200.332,199.458,200.607,198.98,200.871,198.492z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M350.004,286.625c-14.709,8.508-31.787,13.377-50.003,13.377c0-18.216-4.869-35.294-13.377-50.003 c18.216,0,35.294-4.879,50.003-13.388c8.508,14.709,13.377,31.787,13.377,49.992C350.004,286.614,350.004,286.614,350.004,286.625 z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M286.625,350.004c-8.773,15.166-21.418,27.812-36.595,36.595c-0.01,0-0.02,0-0.031,0 c-18.216,0-35.283-4.869-49.992-13.377c15.166-8.773,27.822-21.428,36.605-36.595c14.709,8.508,31.787,13.377,49.992,13.377 C286.614,350.004,286.614,350.004,286.625,350.004z' }),
	_react2['default'].createElement('path', { fill: '#F2793F', d: 'M213.395,149.964c-8.518,14.709-13.388,31.787-13.398,50.003c-0.01-18.216-4.879-35.294-13.398-50.003 c0.01-18.206,4.879-35.283,13.398-49.992C208.515,114.68,213.384,131.758,213.395,149.964z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M199.997,199.966v0.01c-0.01,0.01-0.01,0.02-0.02,0.02h-0.01c0-0.02-0.02-0.041-0.03-0.061 C199.956,199.946,199.976,199.966,199.997,199.966z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M199.997,199.977c0,0.01,0,0.01,0,0.02c-0.01,0-0.01,0-0.02,0 C199.987,199.997,199.987,199.987,199.997,199.977z' }),
	_react2['default'].createElement('path', { d: 'M200.007,199.977c0,0.01,0.01,0.01,0.01,0.02c-0.01,0-0.01,0-0.02,0c0-0.01,0-0.01,0-0.02 C199.997,199.977,199.997,199.977,200.007,199.977z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M163.392,336.627c15.166-8.783,27.822-21.428,36.605-36.605c8.783,15.177,21.438,27.822,36.615,36.605 c-8.783,15.166-21.438,27.822-36.605,36.595C184.83,364.449,172.175,351.794,163.392,336.627z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M336.627,236.612c15.166-8.783,27.822-21.438,36.595-36.605c8.508,14.709,13.377,31.776,13.377,49.992 c0,0.01,0,0.02,0,0.03c-8.783,15.166-21.428,27.812-36.595,36.595c0-0.01,0-0.01,0-0.02 C350.004,268.398,345.135,251.321,336.627,236.612z' }),
	_react2['default'].createElement('path', { d: 'M200.058,199.946c-0.01,0.01-0.02,0.02-0.031,0.041c-0.01,0-0.02,0-0.02-0.01 C200.027,199.966,200.037,199.956,200.058,199.946z' }),
	_react2['default'].createElement('path', { fill: '#E62314', d: 'M199.997,199.966c0.01-18.216,4.879-35.294,13.398-50.003c0,0.01,0,0.03,0,0.041 c0,17.596-4.544,34.125-12.523,48.488C200.576,198.98,200.281,199.468,199.997,199.966z' }),
	_react2['default'].createElement('path', { d: 'M199.997,199.966c0.285-0.498,0.579-0.986,0.874-1.474c-0.264,0.488-0.539,0.966-0.813,1.454 c-0.02,0.01-0.031,0.02-0.051,0.031c-0.01,0-0.01,0-0.01,0V199.966z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M249.999,386.599c0.01,0,0.02,0,0.031,0c-14.719,8.518-31.807,13.398-50.033,13.398 s-35.314-4.879-50.033-13.398c0.01,0,0.03,0,0.041,0c18.216,0,35.294-4.869,50.003-13.377 C214.716,381.73,231.783,386.599,249.999,386.599z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M163.392,336.627c8.783,15.166,21.438,27.822,36.615,36.595c-14.709,8.508-31.787,13.377-50.003,13.377 c-0.01,0-0.03,0-0.041,0c-15.166-8.783-27.812-21.428-36.585-36.595c0.01,0,0.01,0,0.02,0 C131.616,350.004,148.683,345.135,163.392,336.627z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M386.599,149.964c8.518,14.719,13.398,31.807,13.398,50.033s-4.879,35.314-13.398,50.033 c0-0.01,0-0.02,0-0.03c0-18.216-4.869-35.283-13.377-49.992c8.508-14.709,13.377-31.787,13.377-50.003 C386.599,149.994,386.599,149.974,386.599,149.964z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M286.625,49.999c8.508,14.709,13.377,31.787,13.377,50.003c-18.216,0-35.294,4.869-50.003,13.377 c0-18.216-4.879-35.294-13.388-50.003c14.709-8.508,31.787-13.377,49.992-13.377C286.614,49.999,286.614,49.999,286.625,49.999z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M300.002,100.002c0,18.216-4.869,35.294-13.377,50.003c-0.01,0-0.01,0-0.02,0 c-18.186,0-35.253,4.859-49.952,13.347c8.488-14.699,13.347-31.756,13.347-49.952c0-0.01,0-0.01,0-0.02 C264.708,104.871,281.786,100.002,300.002,100.002z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M286.625,249.999c8.508,14.709,13.377,31.787,13.377,50.003c-18.216,0-35.294-4.869-50.003-13.377 c0-0.01,0-0.01,0-0.02c0-18.186-4.859-35.253-13.347-49.952c14.699,8.488,31.766,13.347,49.952,13.347 C286.614,249.999,286.614,249.999,286.625,249.999z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M300.002,300.002c0,18.216-4.869,35.294-13.377,50.003c-0.01,0-0.01,0-0.02,0 c-18.206,0-35.283-4.869-49.992-13.377c8.508-14.709,13.388-31.787,13.388-50.003 C264.708,295.133,281.786,300.002,300.002,300.002z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M236.612,63.377c8.508,14.709,13.388,31.787,13.388,50.003c-15.166,8.773-27.822,21.418-36.605,36.584 c-0.01-18.206-4.879-35.283-13.398-49.992C208.78,84.805,221.435,72.149,236.612,63.377z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M249.999,286.625c0,18.216-4.879,35.294-13.388,50.003c-15.177-8.783-27.832-21.428-36.615-36.605 c8.518-14.709,13.388-31.776,13.398-49.992C222.177,265.196,234.833,277.842,249.999,286.625z' }),
	_react2['default'].createElement('rect', { x: '200.017', y: '199.997', fill: '#24A14D', width: '0.01', height: '0.01' }),
	_react2['default'].createElement('path', { d: 'M200.027,199.987v0.01h-0.01c0-0.01-0.01-0.01-0.01-0.02C200.007,199.987,200.017,199.987,200.027,199.987z' }),
	_react2['default'].createElement('path', { d: 'M199.976,200.007c0.01,0,0.01,0.01,0.01,0.02c-0.02,0.01-0.03,0.02-0.041,0.03 C199.956,200.037,199.966,200.027,199.976,200.007z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M149.964,13.395c-15.166,8.783-27.812,21.438-36.585,36.605c-18.216,0-35.283,4.879-49.992,13.388 C80.678,33.511,112.973,13.405,149.964,13.395z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M113.379,150.004c8.773,15.166,21.418,27.812,36.585,36.595c-18.206,0.01-35.283,4.879-49.992,13.398 c-15.166-8.783-27.822-21.438-36.595-36.605C78.086,154.884,95.163,150.004,113.379,150.004z' }),
	_react2['default'].createElement('path', { fill: '#FDDF21', d: 'M149.964,213.395c-15.166,8.783-27.812,21.438-36.585,36.605c-18.216,0-35.294-4.879-50.003-13.388 c8.773-15.177,21.428-27.832,36.595-36.615C114.68,208.515,131.758,213.384,149.964,213.395z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M113.379,350.004c8.773,15.166,21.418,27.812,36.585,36.595c-36.991-0.01-69.286-20.117-86.577-49.982 C78.096,345.125,95.163,350.004,113.379,350.004z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M113.379,49.999c-8.508,14.709-13.377,31.787-13.377,50.003c-18.216,0-35.294,4.869-50.003,13.377 c0-18.216,4.879-35.283,13.388-49.992C78.096,54.879,95.163,49.999,113.379,49.999z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M100.002,100.002c0,18.216,4.869,35.294,13.377,50.003c-18.216,0-35.294,4.879-50.003,13.388 c-8.508-14.709-13.377-31.776-13.377-49.992c0-0.01,0-0.01,0-0.02C64.708,104.871,81.786,100.002,100.002,100.002z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M113.379,249.999c-8.508,14.709-13.377,31.787-13.377,50.003c-18.216,0-35.294-4.869-50.003-13.377 c0-0.01,0-0.01,0-0.02c0-18.206,4.869-35.283,13.377-49.992C78.086,245.12,95.163,249.999,113.379,249.999z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M100.002,300.002c0,18.216,4.869,35.294,13.377,50.003c-18.216,0-35.283-4.879-49.992-13.388 c-8.508-14.709-13.388-31.787-13.388-49.992C64.708,295.133,81.786,300.002,100.002,300.002z' }),
	_react2['default'].createElement('path', { fill: '#24A14D', d: 'M63.377,163.392c8.773,15.166,21.428,27.822,36.595,36.605c-15.166,8.783-27.822,21.438-36.595,36.615 c-15.177-8.783-27.822-21.438-36.605-36.605C35.544,184.83,48.2,172.175,63.377,163.392z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M63.387,63.387c-8.508,14.709-13.388,31.776-13.388,49.992c-15.166,8.773-27.822,21.418-36.605,36.584 C13.405,112.973,33.511,80.678,63.387,63.387z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M49.999,113.4c0,18.216,4.869,35.283,13.377,49.992c-15.177,8.783-27.832,21.438-36.605,36.615 c-8.508-14.709-13.377-31.787-13.377-50.003c0-0.01,0-0.031,0-0.041c8.783-15.166,21.438-27.812,36.605-36.584 C49.999,113.389,49.999,113.389,49.999,113.4z' }),
	_react2['default'].createElement('path', { fill: '#5A70B1', d: 'M63.377,236.612c-8.508,14.709-13.377,31.787-13.377,49.992c0,0.01,0,0.01,0,0.02 c-15.166-8.783-27.822-21.428-36.605-36.595c0-0.01,0-0.02,0-0.03c0-18.216,4.869-35.283,13.377-49.992 C35.555,215.173,48.2,227.829,63.377,236.612z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M49.999,286.625c0,18.206,4.879,35.283,13.388,49.992c-29.875-17.291-49.982-49.596-49.992-86.587 C22.177,265.196,34.833,277.842,49.999,286.625z' }),
	_react2['default'].createElement('path', { fill: '#814297', d: 'M13.395,150.004c0,18.216,4.869,35.294,13.377,50.003c-8.508,14.709-13.377,31.776-13.377,49.992 c0,0.01,0,0.02,0,0.03c-8.518-14.719-13.398-31.807-13.398-50.033s4.879-35.314,13.398-50.033 C13.395,149.974,13.395,149.994,13.395,150.004z' })
);
module.exports = exports['default'];

},{"react":"react"}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _sharedBoardActions = require('../shared/BoardActions');

var _sharedBoardActions2 = _interopRequireDefault(_sharedBoardActions);

var _sharedValidators = require('../shared/Validators');

var _sharedValidators2 = _interopRequireDefault(_sharedValidators);

var BoardIntersection = _react2['default'].createClass({
  displayName: 'BoardIntersection',

  handleClick: function handleClick() {
    _sharedBoardActions2['default'].placeStone({ ring: this.props.ring, hour: this.props.hour });
  },

  render: function render() {
    console.log(this.props.board.gameState);
    var classes = "intersection ";
    //start with defualt small intersection
    var r = 200 / 24;
    if (this.props.color != 0) {
      //If the piece is placed make the radius bigger
      r = 200 / 16;
      classes += this.props.color == 2 ? "black" : "white";
    } else {
      //Otherwise if you can't place an item don't display intersection
      classes += (this.props.board.turn == 1 ? "white" : "black") + " empty";
      if (!_sharedValidators2['default'].placeable(this.props.board, { ring: this.props.ring, hour: this.props.hour })) {
        r = 0;
      }
    }

    //Make big if sliding
    if (this.props.board.gameState != 'notyourturn' && this.props.board.sliding && this.props.board.sliding.ring == this.props.ring && this.props.board.sliding.hour == this.props.hour) {
      r = 200 / 8;
    }

    var ringRadius = 200 * Math.sin(2 * Math.PI * this.props.ring / 24) / 2;
    return _react2['default'].createElement('circle', {
      cx: 200 + 2 * ringRadius * Math.cos(2 * Math.PI * ((this.props.hour + 8) % 12 + this.props.ring / 2) / 12),
      cy: 200 + 2 * ringRadius * Math.sin(2 * Math.PI * ((this.props.hour + 8) % 12 + this.props.ring / 2) / 12),
      r: r,
      id: this.props.ring + " " + this.props.hour,
      onClick: this.handleClick,
      className: classes });
  }
});
exports['default'] = BoardIntersection;
module.exports = exports['default'];

},{"../shared/BoardActions":16,"../shared/Validators":18,"react":"react","reflux":"reflux"}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _BoardGraphics = require('./BoardGraphics');

var _BoardGraphics2 = _interopRequireDefault(_BoardGraphics);

var _BoardIntersection = require('./BoardIntersection');

var _BoardIntersection2 = _interopRequireDefault(_BoardIntersection);

var BoardView = _react2['default'].createClass({
  displayName: 'BoardView',

  render: function render() {
    if (this.props.board.board) {
      var intersections = [];
      var circles = [];
      for (var n = 12; n >= 0; n--) {
        var color = n % 2 ? "black" : "white",
            height = 800,
            width = 800,
            chakraRadius = width / 4;
        circles.push(_react2['default'].createElement('circle', { fill: 'rgba(0,0,0,0)', stroke: color, 'stroke-width': '2', cx: 0.5 * (height / 2.0 + chakraRadius * Math.sin(2 * Math.PI * n / 12)), cy: 0.5 * (height / 2 + chakraRadius * Math.cos(2 * Math.PI * n / 12)), r: '100' }));
      };
      console.log(circles);
      for (var i = 0; i < 6; i++) for (var j = 0; j < 12; j++) intersections.push(_react2['default'].createElement(
        _BoardIntersection2['default'],
        {
          board: this.props.board,
          color: this.props.board.board[i][j],
          ring: i + 1,
          key: "ring" + (i + 1) + "hour" + (j + 1),
          hour: j + 1
        },
        ' '
      ));

      return _react2['default'].createElement(
        'svg',
        { version: '1.1', width: '50%', xmlns: 'http://www.w3.org/2000/svg', className: 'board', viewBox: '0 0 400 400' },
        _BoardGraphics2['default'],
        _react2['default'].createElement(
          'g',
          null,
          circles
        ),
        _react2['default'].createElement(
          'g',
          null,
          intersections
        )
      );
    } else {
      return _react2['default'].createElement(
        'svg',
        { version: '1.1', width: '50%', xmlns: 'http://www.w3.org/2000/svg', className: 'board', viewBox: '0 0 400 400' },
        _BoardGraphics2['default'],
        _react2['default'].createElement(
          'g',
          null,
          circles
        )
      );
    }
  }
});
exports['default'] = BoardView;
module.exports = exports['default'];

},{"./BoardGraphics":1,"./BoardIntersection":2,"react":"react","reflux":"reflux"}],4:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _sharedBoardActions = require('../shared/BoardActions');

var _sharedBoardActions2 = _interopRequireDefault(_sharedBoardActions);

var _immutable = require('immutable');

var ChatView = _react2['default'].createClass({
  displayName: 'ChatView',

  onKeyDown: function onKeyDown(event) {
    if (event.keyCode === 13) {
      console.log(event.target.value);
      _sharedBoardActions2['default'].submitChatMessage(event.target.value.toString());
    }
  },
  render: function render() {
    var _this = this;

    var messages = this.props.board.messages ? this.props.board.messages.map(function (msg) {
      var chaticonclass = 'chatusericon';
      if (_this.props.board.whiteUser.id == msg.user.id) chaticonclass += ' white';
      if (_this.props.board.blackUser.id == msg.user.id) chaticonclass += ' black';
      return _react2['default'].createElement(
        'div',
        { className: 'chatentry' },
        _react2['default'].createElement(
          'div',
          { className: chaticonclass },
          _react2['default'].createElement(
            'div',
            { className: 'notplayerchat' },
            _react2['default'].createElement(
              'div',
              { className: 'innerchatusertext' },
              msg.user.username ? msg.user.username[0].toUpperCase() : ""
            )
          ),
          _react2['default'].createElement('div', { className: 'black-half' }),
          _react2['default'].createElement('div', { className: 'white-half' })
        ),
        _react2['default'].createElement(
          'div',
          { className: 'outerchatmessage' },
          _react2['default'].createElement(
            'div',
            { className: 'chatuser' },
            msg.user.username
          ),
          _react2['default'].createElement(
            'div',
            { className: 'chatmessage' },
            msg.message
          )
        )
      );
    }).reverse() : [];
    return _react2['default'].createElement(
      'div',
      { id: 'chat' },
      messages,
      _react2['default'].createElement(
        'div',
        { id: 'chatbox' },
        _react2['default'].createElement('input', {
          className: 'submitChatMessage',
          id: this.props.id,
          placeholder: 'Chat',
          onKeyDown: this.onKeyDown
        })
      )
    );
  }
});
exports['default'] = ChatView;
module.exports = exports['default'];

},{"../shared/BoardActions":16,"immutable":"immutable","react":"react","reflux":"reflux"}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _sharedBoard = require('../shared/board');

var _sharedBoard2 = _interopRequireDefault(_sharedBoard);

var _sharedBoardActions = require('../shared/BoardActions');

var _sharedBoardActions2 = _interopRequireDefault(_sharedBoardActions);

var _BoardView = require('./BoardView');

var _BoardView2 = _interopRequireDefault(_BoardView);

var _Layout = require('./Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var _MoveTimeline = require('./MoveTimeline');

var _MoveTimeline2 = _interopRequireDefault(_MoveTimeline);

var _ChatView = require('./ChatView');

var _ChatView2 = _interopRequireDefault(_ChatView);

var _reactZeroclipboard = require('react-zeroclipboard');

var _reactZeroclipboard2 = _interopRequireDefault(_reactZeroclipboard);

var gameView = _react2['default'].createClass({
  displayName: 'gameView',

  mixins: [_reflux2['default'].connect(_sharedBoard2['default'], 'boardstore')],
  getInitialState: function getInitialState() {
    return { boardstore: {} };
  },
  componentWillMount: function componentWillMount() {
    // When this component is loaded, fetch initial data
    _sharedBoardActions2['default'].retrieveHistory(this.props.game, this.props.user, this.props.messages);
  },
  begin: function begin() {

    _sharedBoardActions2['default'].begin();
  },
  render: function render() {
    var gameclass = 'starting';
    console.log(this.state.boardstore);
    var starting = _react2['default'].createElement(
      'div',
      { className: 'popup' },
      _react2['default'].createElement(
        'h2',
        null,
        'New game'
      ),
      _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement(
          _reactZeroclipboard2['default'],
          {
            getText: function () {
              return location.href;
            },
            getHtml: function () {
              return '<a href="' + location.href + '">Play Circa</a>';
            } },
          _react2['default'].createElement(
            'button',
            { className: 'invitetoclip' },
            'Invite URL to clipboard'
          )
        ),
        _react2['default'].createElement('input', null),
        _react2['default'].createElement(
          'div',
          { className: 'popupbegin', onClick: this.begin },
          'Begin'
        )
      )
    );
    console.log(this.props.game.creator, this.props.user);
    if (!this.props.user || this.props.game.creator != this.props.user.id) {
      starting = _react2['default'].createElement(
        'div',
        { className: 'popup' },
        'game starting'
      );
    }
    if (this.state.boardstore.gameState != 'starting') {
      gameclass = '';
      starting = _react2['default'].createElement('div', null);
    }
    return _react2['default'].createElement(
      _Layout2['default'],
      { user: this.props.user },
      starting,
      _react2['default'].createElement(
        'div',
        { id: 'game', className: gameclass },
        _react2['default'].createElement(
          'aside',
          { id: 'leftside' },
          _react2['default'].createElement(_MoveTimeline2['default'], { board: this.state.boardstore }),
          _react2['default'].createElement(_ChatView2['default'], { board: this.state.boardstore })
        ),
        _react2['default'].createElement(_BoardView2['default'], { board: this.state.boardstore }),
        _react2['default'].createElement(
          'div',
          { id: 'timer' },
          this.state.boardstore.timer
        )
      )
    );
  }
});
exports['default'] = gameView;
module.exports = exports['default'];

},{"../shared/BoardActions":16,"../shared/board":19,"./BoardView":3,"./ChatView":4,"./Layout":6,"./MoveTimeline":8,"react":"react","react-zeroclipboard":14,"reflux":"reflux"}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var Layout = (function () {
  function Layout() {
    _classCallCheck(this, Layout);
  }

  _createClass(Layout, [{
    key: 'render',
    value: function render() {

      var login_item = _react2['default'].createElement(
        'div',
        null,
        ' ',
        _react2['default'].createElement(
          _reactRouter.Link,
          { to: 'login' },
          'Login'
        ),
        ' ',
        _react2['default'].createElement(
          _reactRouter.Link,
          { to: 'register' },
          'Register'
        ),
        ' '
      );
      if (this.props.user && this.props.user.username) login_item = _react2['default'].createElement(
        'a',
        { href: '/logout' },
        'Logout'
      );
      return _react2['default'].createElement(
        'div',
        null,
        _react2['default'].createElement(
          'nav',
          null,
          _react2['default'].createElement(
            'div',
            { id: 'title' },
            'Circa '
          ),
          _react2['default'].createElement(
            'div',
            { id: 'login' },
            ' ',
            login_item,
            '        '
          )
        ),
        _react2['default'].createElement(
          'div',
          { id: 'main' },
          this.props.children
        )
      );
    }
  }]);

  return Layout;
})();

exports['default'] = Layout;
module.exports = exports['default'];

},{"react":"react","react-router":"react-router"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Layout = require('./Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var Login = _react2['default'].createClass({
    displayName: 'Login',

    render: function render() {
        return _react2['default'].createElement(
            _Layout2['default'],
            { user: this.props.user },
            this.props.errors,
            _react2['default'].createElement(
                'form',
                { role: 'form', action: '/auth/local', method: 'post' },
                _react2['default'].createElement('input', { type: 'text', name: 'identifier', placeholder: 'Username or Email' }),
                _react2['default'].createElement('input', { type: 'password', name: 'password', placeholder: 'Password' }),
                _react2['default'].createElement(
                    'button',
                    { type: 'submit' },
                    'Sign in'
                )
            )
        );
    }
});
exports['default'] = Login;
module.exports = exports['default'];

},{"./Layout":6,"react":"react","reflux":"reflux"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _immutable = require('immutable');

var _sharedBoardActions = require('../shared/BoardActions');

var _sharedBoardActions2 = _interopRequireDefault(_sharedBoardActions);

var MoveTimeline = _react2['default'].createClass({
  displayName: 'MoveTimeline',

  filterMoves: function filterMoves(color) {
    if (!this.props.board.history || this.props.board.history.count() < 1) return '';
    var moves = this.props.board.history;
    var firstmovecolor = moves.get(0).color;
    var currentcolor = this.props.board.turn;
    var turnoffset = (0, _immutable.Seq)([[2, 2], [2, 1], [1, 1], [1, 2]]).findIndex(function (e) {
      return e.toString() === [firstmovecolor, currentcolor].toString();
    }) + 1;
    var paired = moves.toSeq().skip(turnoffset).filter(function (move) {
      return move.color == color;
    }).groupBy(function (n, i) {
      return Math.floor(i / 2);
    });
    if (moves.count() < 5) return;
    return paired.map(function (pairedmoves, index) {
      if (pairedmoves.count() == 2) {
        return _react2['default'].createElement(
          'div',
          { className: 'move ' + (pairedmoves.get(0).color == 1 ? "left" : "right") + 'move', key: 'move' + pairedmoves.get(0).color + index },
          _react2['default'].createElement(
            'div',
            { className: 'place ' },
            ' ',
            pairedmoves.get(1).place,
            ' '
          ),
          _react2['default'].createElement(
            'div',
            { className: 'tofrom' },
            pairedmoves.get(0).from,
            pairedmoves.get(0).place != 'pass' ? '-' + pairedmoves.get(0).place : ''
          )
        );
      }
    }).toArray().slice(0, 3);
  },
  handleClick: function handleClick(event) {
    if (event.target.innerHTML == 'PASS') {
      _sharedBoardActions2['default'].pass();
    }
  },
  renderCurrentMove: function renderCurrentMove(color) {
    var moves = this.props.board.history;
    var place = '';
    var tofrom = '';
    var firstmove = moves ? moves.get(0) : undefined;
    if (firstmove && color == firstmove.color) {
      if (firstmove.from) {
        tofrom = firstmove.from + "-" + firstmove.place;
        place = moves.get(1).place;
        if (firstmove.color == 1) {
          place = tofrom = '';
        }
      } else if (this.props.board.gameState != 'notyourturn') {
        console.log(this.props.board.gameState);
        place = firstmove.place;
        tofrom = "PASS";
      }
    } else if (firstmove && color != firstmove.color) {
      if (color == 2 && !firstmove.from) {
        place = moves.get(2).place;
        if (moves.get(1)) {
          tofrom = moves.get(1).from + "-" + moves.get(1).place;
        }
      }
      console.log(this.props.board.gameState);
      if (firstmove.from && moves.count() > 2 && this.props.board.gameState != 'notyourturn') {
        place = "PASS";
      }
    } else if (firstmove && moves.count() > 2 && color == 2 && this.props.board.gameState != 'notyourturn') {
      place = "PASS";
    }
    if (tofrom == 'pass-pass') {
      tofrom = 'pass';
    }
    return _react2['default'].createElement(
      'div',
      { className: 'move ' + (color == 1 ? "left" : "right") + 'move' },
      _react2['default'].createElement(
        'div',
        { className: 'curent' + (color == 1 ? "white" : "black") + 'place place ' + (place == 'PASS' ? 'pass' : ''), onClick: this.handleClick },
        ' ',
        place
      ),
      _react2['default'].createElement(
        'div',
        { className: 'curent' + (color == 1 ? "white" : "black") + 'tofrom tofrom ' + (tofrom == 'PASS' ? 'pass' : ''), onClick: this.handleClick },
        ' ',
        tofrom,
        ' '
      )
    );
  },
  joinWhiteGame: function joinWhiteGame(color) {
    _sharedBoardActions2['default'].joinGame('white');
  },
  joinBlackGame: function joinBlackGame(color) {
    _sharedBoardActions2['default'].joinGame('black');
  },
  render: function render() {
    var white_user = _react2['default'].createElement(
      'div',
      { onClick: this.joinWhiteGame },
      'Join'
    );
    var black_user = _react2['default'].createElement(
      'div',
      { onClick: this.joinBlackGame },
      'Join'
    );
    if (this.props.board.whiteUser && this.props.board.whiteUser.username) {
      white_user = this.props.board.whiteUser.username;
    }
    if (this.props.board.blackUser && this.props.board.blackUser.username) {
      black_user = this.props.board.blackUser.username;
    }
    return _react2['default'].createElement(
      'div',
      { id: 'timeline' },
      _react2['default'].createElement(
        'div',
        { className: 'whitecol' },
        _react2['default'].createElement(
          'div',
          { className: 'whitescore score' },
          this.props.board.whitescore
        ),
        _react2['default'].createElement(
          'div',
          { className: 'username' },
          ' ',
          white_user,
          '   '
        ),
        this.renderCurrentMove(1),
        _react2['default'].createElement('div', { className: 'bigpiece whitedisplay' }),
        _react2['default'].createElement(
          'div',
          { className: 'previousmovesleft' },
          ' ',
          this.filterMoves(1)
        )
      ),
      _react2['default'].createElement(
        'div',
        { className: 'blackcol' },
        _react2['default'].createElement(
          'div',
          { className: 'blackscore score' },
          this.props.board.blackscore
        ),
        _react2['default'].createElement(
          'div',
          { className: 'username' },
          black_user,
          ' '
        ),
        this.renderCurrentMove(2),
        _react2['default'].createElement(
          'div',
          { className: 'bigpiece blackdisplay' },
          ' '
        ),
        _react2['default'].createElement(
          'div',
          { className: 'previousmovesright' },
          this.filterMoves(2)
        )
      )
    );
  }
});
exports['default'] = MoveTimeline;
module.exports = exports['default'];

},{"../shared/BoardActions":16,"immutable":"immutable","react":"react","reflux":"reflux"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Layout = require('./Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var Register = _react2['default'].createClass({
  displayName: 'Register',

  render: function render() {
    return _react2['default'].createElement(
      _Layout2['default'],
      { user: this.props.user },
      this.props.errors,
      _react2['default'].createElement(
        'form',
        { role: 'form', action: '/auth/local/register', method: 'post' },
        _react2['default'].createElement('input', { type: 'text', name: 'username', placeholder: 'Username' }),
        _react2['default'].createElement('input', { type: 'text', name: 'email', placeholder: 'Email' }),
        _react2['default'].createElement('input', { type: 'password', name: 'password', placeholder: 'Password' }),
        _react2['default'].createElement(
          'button',
          { type: 'submit' },
          'Sign up'
        )
      )
    );
  }
});
exports['default'] = Register;
module.exports = exports['default'];

},{"./Layout":6,"react":"react","reflux":"reflux"}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Layout = require('./Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var userView = _react2['default'].createClass({
    displayName: 'userView',

    render: function render() {
        return _react2['default'].createElement(
            _Layout2['default'],
            { user: this.props.loggedInAs },
            _react2['default'].createElement(
                'h1',
                null,
                this.props.user.username,
                ' '
            ),
            _react2['default'].createElement(
                'a',
                { href: '/game/create' },
                'New Game!! '
            )
        );
    }
});
exports['default'] = userView;
module.exports = exports['default'];

},{"./Layout":6,"react":"react","reflux":"reflux"}],11:[function(require,module,exports){
'use strict';

var React = require('react'),
    Router = require('react-router');

Router.run(require('./routes.js'), Router.HistoryLocation, function (Root) {
  React.render(React.createElement(Root, window.__ReactInitState__), document.body);
  delete window.__ReactInitState__;
});

},{"./routes.js":12,"react":"react","react-router":"react-router"}],12:[function(require,module,exports){
"use strict";

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

module.exports = _react2['default'].createElement(
  _reactRouter.Route,
  { handler: _reactRouter.RouteHandler },
  _react2['default'].createElement(_reactRouter.Route, { name: 'game', path: '/game/:id', handler: require('./GameView.js') }),
  _react2['default'].createElement(_reactRouter.Route, { name: 'login', path: '/login', handler: require('./Login.js') }),
  _react2['default'].createElement(_reactRouter.Route, { name: 'user', path: '/user/:username', handler: require('./User.js') }),
  _react2['default'].createElement(_reactRouter.Route, { name: 'register', path: '/register', handler: require('./Register.js') })
);

},{"./GameView.js":5,"./Login.js":7,"./Register.js":9,"./User.js":10,"react":"react","react-router":"react-router"}],13:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],14:[function(require,module,exports){
(function (process,global){
var react = require('react');
var loadScript = require('./loadScript');
var ZeroClipboard, client;

// callbacks waiting for ZeroClipboard to load
var waitingForScriptToLoad = [];

// these are the active elements using ZeroClipboardComponent
// each item in the array should be a [element, callback] pair
var eventHandlers = {
    copy: [],
    afterCopy: [],
    error: [],
    ready: []
};

// add a listener, and returns a remover
var addZeroListener = function(event, el, fn){
    eventHandlers[event].push([el, fn]);
    return function(){
        var handlers = eventHandlers[event];
        for (var i=0; i<handlers.length; i++) {
            if (handlers[i][0] === el) {
                // mutate the array to remove the listener
                handlers.splice(i, 1);
                return;
            }
        }
    };
};

var propToEvent = {
    onCopy: 'copy',
    onAfterCopy: 'afterCopy',
    onError: 'error',
    onReady: 'ready'
};

var readyEventHasHappened = false;

// asynchronusly load ZeroClipboard from cdnjs
// it should automatically discover the SWF location using some clever hacks :-)
var handleZeroClipLoad = function(error){
    if (error) {
        console.error("Couldn't load zeroclipboard from CDNJS.  Copy will not work.  "
            + "Check your Content-Security-Policy.");
        console.error(error);
    }

    // grab it and free up the global
    ZeroClipboard = global.ZeroClipboard;
    delete global.ZeroClipboard;

    client = new ZeroClipboard();

    var handleEvent = function(eventName){
        client.on(eventName, function(event){
            // ready has no active element
            if (eventName === 'ready') {
                eventHandlers[eventName].forEach(function(xs){
                    xs[1](event);
                });

                readyEventHasHappened = true;
                return;
            }

            var activeElement = ZeroClipboard.activeElement();

            // find an event handler for this element
            // we use some so we don't continue looking after a match is found
            eventHandlers[eventName].some(function(xs){
                var element = xs[0], callback = xs[1];
                if (element === activeElement) {
                    callback(event);
                    return true;
                }
            });
        });
    };

    for (var eventName in eventHandlers) {
        handleEvent(eventName);
    }

    // call the callbacks when ZeroClipboard is ready
    // these are set in ReactZeroClipboard::componentDidMount
    waitingForScriptToLoad.forEach(function(callback){
        callback();
    });
};

if (global.ZeroClipboard) {
    handleZeroClipLoad(null);
}
else {
    // load zeroclipboard from CDN
    // in production we want the minified version
    var ZERO_CLIPBOARD_SOURCE = '//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.1.5/ZeroClipboard';
    loadScript("development" === 'production' ? ZERO_CLIPBOARD_SOURCE + '.min.js' : ZERO_CLIPBOARD_SOURCE + '.js', handleZeroClipLoad);
}

// <ReactZeroClipboard 
//   text="text to copy"
//   html="<b>html to copy</b>"
//   richText="{\\rtf1\\ansi\n{\\b rich text to copy}}"
//   getText={(Void -> String)}
//   getHtml={(Void -> String)}
//   getRichText={(Void -> String)}
//
//   onCopy={(Event -> Void)}
//   onAfterCopy={(Event -> Void)}
//   onErrorCopy={(Error -> Void)}
//
//   onReady={(Event -> Void)}
// />
var ReactZeroClipboard = react.createClass({
    ready: function(cb){
        if (client) {
            // nextTick guarentees asynchronus execution
            process.nextTick(cb.bind(this));
        }
        else {
            waitingForScriptToLoad.push(cb.bind(this));
        }
    },
    componentWillMount: function(){
        if (readyEventHasHappened && this.props.onReady) {
            this.props.onReady();
        }
    },
    componentDidMount: function(){
        // wait for ZeroClipboard to be ready, and then bind it to our element
        this.eventRemovers = [];
        this.ready(function(){
            if (!this.isMounted()) return;
            var el = react.findDOMNode(this);
            client.clip(el);

            // translate our props to ZeroClipboard events, and add them to
            // our listeners
            for (var prop in this.props) {
                var eventName = propToEvent[prop];

                if (eventName && typeof this.props[prop] === "function") {
                    var remover = addZeroListener(eventName, el, this.props[prop]);
                    this.eventRemovers.push(remover);
                }
            }

            var remover = addZeroListener("copy", el, this.handleCopy);
            this.eventRemovers.push(remover);
        });
    },
    componentWillUnmount: function(){
        if (client) {
            client.unclip(this.getDOMNode());
        }

        // remove our event listener
        this.eventRemovers.forEach(function(fn){ fn(); });
    },
    handleCopy: function(){
        var p = this.props;

        // grab or calculate the different data types
        var text = result(p.getText || p.text);
        var html = result(p.getHtml || p.html);
        var richText = result(p.getRichText || p.richText);
        
        // give ourselves a fresh slate and then set
        // any provided data types
        client.clearData();
        richText != null && client.setRichText(richText);
        html     != null && client.setHtml(html);
        text     != null && client.setText(text);
    },
    render: function(){
        return react.Children.only(this.props.children);
    }
});
module.exports = ReactZeroClipboard;

function result(fnOrValue) {
    if (typeof fnOrValue === "function") {
        // call it if it's a function
        return fnOrValue();
    }
    else {
        // just return it as is
        return fnOrValue;
    }
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./loadScript":15,"_process":13,"react":"react"}],15:[function(require,module,exports){
var loading = {};

module.exports = function loadScript(src, callback){
    if (typeof(window) === 'undefined') return;
    
    // we don't want duplicate script elements
    // so we use an array of callbacks instead of
    // multiple onload handlers
    if (loading[src]) {
        loading[src].push(callback);
        return;
    }

    // create the array of callbacks
    loading[src] = [callback];

    // create a script, and handle success/failure in node callback style
    var script = document.createElement('script');
    script.onload = function(){
        loading[src].forEach(function(cb){
            cb();
        });
        delete loading[src];
    };

    script.onerror = function(error){
        loading[src].forEach(function(cb){
            cb(error)
        });
        delete loading[src];
    };

    // set the src and append it to the head
    // I believe async is true by default, but there's no harm in setting it
    script.async = true;
    script.src = src;
    document.head.appendChild(script);
};

},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var BoardActions = _reflux2['default'].createActions(['retrieveHistory', 'placeStone', 'retrieveMove', 'pass', 'joinGame', 'submitChatMessage', 'begin']);
exports['default'] = BoardActions;
module.exports = exports['default'];

},{"reflux":"reflux"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Transport = (function () {
  function Transport() {
    _classCallCheck(this, Transport);

    this.socket = typeof io !== "undefined" ? io.socket : null;
  }

  _createClass(Transport, [{
    key: "broadcast",
    value: function broadcast(url, cb) {
      if (!this.socket) return;
      sails.sockets.broadcast(url, cb);
    }
  }, {
    key: "on",
    value: function on(url, cb) {
      if (!this.socket) return;
      this.socket.on(url, cb);
    }
  }, {
    key: "off",
    value: function off(url) {
      if (!this.socket) return;
      this.socket.off(url);
    }
  }, {
    key: "get",
    value: function get(url, data, cb) {
      if (typeof data === 'function') cb = data;
      if (!this.socket) return;
      this.socket.get(url, cb);
    }
  }, {
    key: "post",
    value: function post(url, data, cb) {
      if (!this.socket) return;
      this.socket.post(url, data, cb);
    }
  }, {
    key: "put",
    value: function put(url, data, cb) {
      if (!this.socket) return;
      this.socket.put(url, data, cb);
    }
  }, {
    key: "delete",
    value: function _delete(url, cb) {
      if (!this.socket || !url) return;
      this.socket["delete"](url, {}, cb);
    }
  }]);

  return Transport;
})();

exports.Transport = Transport;

},{}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var validators = {
  slidable: function slidable(sliding, move) {
    var slidable = false;
    for (var n = 1; n < 7; n++) {
      var movesAvaibletoSlide = [{ ring: n, hour: (sliding.hour + sliding.ring + 5) % 12 + 1 }, { ring: 6 - (n - 1), hour: (sliding.hour - 1 + sliding.ring + 5 + n) % 12 + 1 }, { ring: n, hour: (sliding.hour - 1) % 12 + 1 }, { ring: 6 - (n - 1), hour: (sliding.hour - 1 + (n - 1)) % 12 + 1 }];

      movesAvaibletoSlide.forEach(function (location) {

        if (location.hour == move.hour && location.ring == move.ring) slidable = true;
      });
    }
    return slidable;
  },

  placeable: function placeable(board, move) {
    return !(board.gameState == 'sliding' || board.gameState == 'notyourturn' || board.gameState == 'joining' || board.sliding && !this.slidable(board.sliding, move));
  }
};
exports['default'] = validators;
module.exports = exports['default'];

},{}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reflux = require('reflux');

var _reflux2 = _interopRequireDefault(_reflux);

var _BoardActions = require('./BoardActions');

var _BoardActions2 = _interopRequireDefault(_BoardActions);

var _Transport = require('./Transport');

var _Validators = require('./Validators');

var _Validators2 = _interopRequireDefault(_Validators);

var _immutable = require('immutable');

var Board = _reflux2['default'].createStore({
    listenables: [_BoardActions2['default']],
    colors: {
        EMPTY: 0,
        WHITE: 1,
        BLACK: 2
    },
    init: function init() {
        this.turn = this.colors.BLACK;
        //a 2D array representing all the stones currently on the board. board[ring][hour]
        //0th index is ring 1, the most inner ring. index 6 the most outer ring. 0th hour is 1 oclock, 11 is 12 oclock

        this.whitescore = 0;
        this.blackscore = 0;
        this.captured = [];
        this.sliding = undefined;
        this.currentUser = {};
        this.history = (0, _immutable.List)();
        this.messages = (0, _immutable.List)();
        this.gameid = -1;
        this.onChanges = [];
        this.whiteSocket = '';

        this.blackSocket = '';
        this.socket = new _Transport.Transport();
        this.moves = [];
        this.listenTo(_BoardActions2['default'].placeStone, this.play.bind(this));
        this.socket.on('game', this.update.bind(this));
        var countdown = 1000;
        var self = this;
    },
    begin: function begin() {
        console.log('a');
        this.gameState = 'joining';
        var self = this;
        io.socket.put('/game/' + this.gameid, { state: 'playing' }, function (resData) {
            self.triggerBoard();
        });
    },
    joinGame: function joinGame(color) {
        this.socket.post('/game/' + this.gameid + "/join/" + color);
    },
    retrieveMove: function retrieveMove(move) {
        var self = this;
        this.socket.get('/game/' + this.gameid + "/moves?sort=createdAt%20DESC&limit=1", function (moves) {
            //sets the board array based on move history
            self.add(moves[0]);
        });
    },
    retrieveHistory: function retrieveHistory(game, user, messages) {
        console.log(user);

        if (game.state == 'starting') this.gameState = 'starting';
        this.gameid = game.id;
        this.currentUser = user;
        this.whiteUser = game.white || game.white;
        this.blackUser = game.black || game.black;
        this.socket.get('/game/' + this.gameid);
        console.log(game);
        this.messages = (0, _immutable.List)(messages);
        this.set(game.history);
    },
    locationToNotation: function locationToNotation(location) {
        return String.fromCharCode(64 + location.ring) + location.hour;
    },
    placeable: function placeable(move) {
        return validators.placeable(move, this.board, this.whiteUser.id == this.currentUser.id, this.blackUser.id == this.currentUser.id);
    },
    notationToLocation: function notationToLocation(notation) {
        return { ring: notation.charCodeAt(0) - 64, hour: parseInt(notation.substring(1)) };
    },
    //init board array
    create_board: function create_board() {
        var m = [];
        //hours and rings start 1 not 0 tho
        for (var i = 0; i < 6; i++) {
            m[i] = [];
            for (var j = 0; j < 12; j++) {
                m[i][j] = this.colors.EMPTY;
            }
        }
        return m;
    },
    pass: function pass() {
        if (this.gameState == 'notyourturn') {
            return;
        }
        var data = { game: this.gameid, place: 'pass', color: this.turn, gameState: this.gameState };
        if (this.gameState == 'sliding' || this.gameState == 'slide') {
            data['from'] = 'pass';
        }
        this.socket.post("/move", data);
    },
    end_game: function end_game() {
        console.log("GAME OVER");
    },
    //adds move to move history
    add: function add(move) {
        this.history = this.history.unshift(move);
        if (move.place != 'pass') {
            var moveLocation = this.notationToLocation(move.place);
            this.board[moveLocation.ring - 1][moveLocation.hour - 1] = move.color;
            if (move.from) {
                var fromLocation = this.notationToLocation(move.from);
                this.board[fromLocation.ring - 1][fromLocation.hour - 1] = 0;
            }
            moveLocation.color = move.color;
            var self = this;
            this.emanateKill(moveLocation).forEach(function (kill) {
                self.board[kill.ring - 1][kill.hour - 1] = 0;
                if (move.color == 2) self.blackscore++;else self.whitescore++;
            });
        }
        this.triggerBoard();
    },
    //populates the board array based on move history string from server
    set: function set(history) {
        this.whitescore = 0;
        this.blackscore = 0;
        var moves = [];
        var regex = /#([A-Z][0-9]+|pass)([!|@])([A-Z][0-9]+|pass)|([A-Z][0-9]+|pass)([!|@])/g;
        var move = [];
        while (move = regex.exec(history)) {
            var move_data = {};
            if (!move[1] && move[4]) {
                move_data = { place: move[4], color: move[5] == "!" ? 1 : 2 };
            } else if (move[1]) {
                move_data = { place: move[1], color: move[2] == "!" ? 1 : 2, from: move[3] };
            }
            moves.unshift(move_data);
        }
        this.history = (0, _immutable.List)(moves);
        var self = this;
        this.board = this.history.reverse().reduce(function (board, item) {
            if (item.place == 'pass') return board;
            var location = self.notationToLocation(item.place);
            if (location.hour > 0 && location.hour < 13 && location.ring > 0 && location.ring < 7) {
                board[location.ring - 1][location.hour - 1] = parseInt(item.color);
            }
            if (item.from) {
                var fromlocation = self.notationToLocation(item.from);
                board[fromlocation.ring - 1][fromlocation.hour - 1] = 0;
            }
            self.board = board;
            location.color = item.color;
            self.emanateKill(location).forEach(function (kill) {
                board[kill.ring - 1][kill.hour - 1] = 0;
                if (item.color == 2) self.blackscore++;else self.whitescore++;
            });
            return board;
        }, this.create_board());
        this.triggerBoard();
    },
    //move the game along based off lastest move recieved from server
    updategameState: function updategameState() {
        if (this.gameState == 'starting') return;
        var lastmove = this.history.get(0) || this.history.count() > 0;
        var nextcolor = 2;
        if (lastmove) {
            nextcolor = lastmove.color;
        }
        if (lastmove && lastmove.from) nextcolor = lastmove.color == 1 ? 2 : 1;

        if (this.currentUser && (nextcolor == 1 && this.whiteUser.id == this.currentUser.id || nextcolor == 2 && this.blackUser.id == this.currentUser.id)) {
            if (lastmove) {
                if (lastmove.from) {
                    this.gameState = 'place';
                    this.turn = nextcolor = lastmove.color == 1 ? 2 : 1;
                    this.sliding = undefined;
                } else if (this.gameState != 'slide') {
                    this.gameState = 'sliding';
                }
            } else {
                this.gameState = 'place';
            }
        } else if (this.gameState != 'joining') {
            this.gameState = 'notyourturn';
            this.sliding = undefined;
        }
    },
    submitChatMessage: function submitChatMessage(msg) {
        this.socket.post('/game/' + this.gameid + "/submitChatMessage/" + msg);
    },
    update: function update(snapshot) {
        console.log(snapshot);
        if (snapshot.verb == 'addedTo' && snapshot.attribute == 'moves') {
            _BoardActions2['default'].retrieveMove();
        }
        if (snapshot.verb == 'updated' && snapshot.data.action == 'chatMessageSubmited') {
            this.messages = this.messages.push(snapshot.data);
            this.triggerBoard();
        }
        if (snapshot.verb == 'updated' && snapshot.data.action == 'timer') {
            this.timer = snapshot.data.timer;
            console.log(this.timer);
            this.triggerBoard();
        }
        if (snapshot.verb == 'updated' && snapshot.data.action == 'userJoined') {
            this[snapshot.data.color + 'User'] = snapshot.data.joinedUser;
            this.triggerBoard();
        }
    },
    //this triggers a refresh and sends all the info needed for the
    //boardview and any other react elements listening.
    triggerBoard: function triggerBoard() {
        this.updategameState();
        this.trigger({
            sliding: this.sliding,
            history: this.history,
            board: this.board,
            turn: this.turn,
            gameState: this.gameState,
            whitescore: this.whitescore,
            blackscore: this.blackscore,
            blackUser: this.blackUser,
            whiteUser: this.whiteUser,
            messages: this.messages,
            timer: this.timer
        });
    },
    //place or move stone
    play: function play(to) {
        if (this.gameState == 'sliding' || this.gameState == 'slide') {
            if (this.board[to.ring - 1][to.hour - 1] == this.turn) {
                this.sliding = to;
                this.gameState = 'slide';
                this.triggerBoard();
                return true;
            }
        }
        if (this.board[to.ring - 1][to.hour - 1] != this.colors.EMPTY) {
            return false;
        }
        var data = { game: this.gameid, place: this.locationToNotation(to), color: this.turn, gameState: this.gameState };
        if (this.sliding) {
            data['from'] = this.locationToNotation(this.sliding);
        }
        to.color = this.turn;
        var enemyGroup = this.getGroup(to);
        var atari = this.countLiberties(enemyGroup);
        if (atari === 0) {
            console.log("OH HELL NO");
            return false;
        }
        this.socket.post("/move", data);
        return true;
    },
    formatCaptured: function formatCaptured(killedGroup) {
        var self = this;
        return killedGroup.reduce(function (string, capture) {
            return string + capture.color + self.locationToNotation(capture);
        }, '');
    },

    //Terrority counter functions
    //Group Library

    calcoffset: function calcoffset(move, n, hof2) {
        var mn = move.ring + n;
        var hoffset = hof2 || 0;
        if (mn < 1) {
            mn = 1;
            hoffset += 4;
        } else if (mn > 6) {
            mn = 6;
            hoffset += 12;
        }
        if (move.ring == 1 && n == -1 && hof2 != -1 && hof2 != 1) hoffset += 3;
        if (move.hour + hoffset == -1) hoffset += 12;
        if (hoffset == -1) hoffset = 11;
        var ring = mn;
        var hour = (move.hour - 1 + hoffset) % 12 + 1;
        return { ring: ring, hour: hour, color: Number(this.board[ring - 1][hour - 1]) };
    },
    getAdjacent: function getAdjacent(move) {

        var movesAvaibletoSlide = [];
        var movesAvaibletoSlide = [this.calcoffset(move, 1), this.calcoffset(move, -1), this.calcoffset(move, 1, -1), this.calcoffset(move, -1, 1)];

        if (move.ring == 6) {

            movesAvaibletoSlide = movesAvaibletoSlide.filter(function (i) {
                return i.ring < 6;
            });
        }

        return movesAvaibletoSlide;
    },
    getEmptyGroup: function getEmptyGroup(target, group) {
        if (group === undefined) {
            var group = [[], [], []];
        } // create our container if we're at the top of the descent path
        if (target.color === undefined && target.ring) target += this.board[target.ring - 1][target.hour - 1];
        if (target.color == 0) {
            group[0].push(target); // add the target in question.
            var buddies = this.getAdjacent(target);
            buddies.forEach(function (location) {
                var notInGroup = true;
                for (var j = 0; j < group[0].length; j++) {
                    if (buddies[i] === group[0][j]) {
                        notInGroup = false;
                    }
                }
                if (notInGroup === true) {
                    this.getEmptyGroup(location, group);
                }
            });
        } else if (target.color === 2) {
            var notInGroup = true;
            for (var i = 0; i < group[1].length; i++) {
                if (target === group[1][i]) {
                    notInGroup = false;
                }
            }
            if (notInGroup) {
                group[1].push(this.board[target.ring - 1][target.hour - 1]);
            }
        } else if (target.color === 1) {
            var notInGroup = true;
            for (var i = 0; i < group[2].length; i++) {
                if (target === group[2][i]) {
                    notInGroup = false;
                }
            }
            if (notInGroup) {
                group[2].push(target);
            }
        }
        return group;
    },
    calculateWin: function calculateWin() {
        // start with number of captures
        var blackScore = gameState.blackCaptures;
        var whiteScore = gameState.whiteCaptures;

        // get all empty groups
        // first get all empty spaces
        var empties = moves.reduce(function (start, move) {
            move.grouped = false;
            if (move.color == 0) start.push(move);

            return move;
        }, []);;

        var groups = Array();

        // take each empty space, get the group it's in
        for (var i = 0; i < empties.length; i++) {
            if (!empties[i].grouped) {
                groups.push(this.getEmptyGroup(empties[i]));
                for (j = 0; j < groups[groups.length - 1][0].length; j++) {
                    // subtract all empty spaces in that group from consideration
                    for (var m = 0; m < empties.length; m++) {
                        if (groups[groups.length - 1][0][j] === empties[m]) {
                            empties[m].grouped = true;
                        }
                    }
                }
            }
        }

        // remove the grouped property entirely
        for (var i = 0; i < moves.length; i++) {
            for (var j = 0; j < this.board[i].length; j++) {
                delete this.board[i].grouped;
            }
        }

        // determine which ones are territory and add to total
        for (var i = 0; i < groups.length; i++) {
            if (groups[i][1].length > 1 && groups[i][2].length === 0) {
                //black group
                blackScore += groups[i][0].length;
            } else if (groups[i][2].length > 1 && groups[i][1].length === 0) {
                whiteScore += groups[i][0].length;
            }
        }
        console.log("black score is: " + blackScore);
        console.log("white score is: " + whiteScore);
        alert("Black Score is: " + blackScore + '\n' + "White Score is: " + whiteScore);
        // bob's your uncle
    },
    emanateKill: function emanateKill(piece) {
        piece.color = parseInt(piece.color);
        if (piece == 'pass') return;
        piece.color = parseInt(piece.color);
        var self = this;
        var killedgroup = [];
        this.getAdjacent(piece).forEach(function (location) {
            var touching = {};
            touching.color = self.board[location.ring - 1][location.hour - 1];
            touching.ring = location.ring;
            touching.hour = location.hour;
            if (touching.color !== piece.color) {
                var enemyGroup = self.getGroup(touching);
                var atari = self.countLiberties(enemyGroup);
                if (atari === 0) {
                    killedgroup = killedgroup.concat(enemyGroup);
                }
            }
        });
        return killedgroup;
    },
    getAdjacentLiberties: function getAdjacentLiberties(piece) {
        // takes a piece
        var buddies = this.getAdjacent(piece);
        var emptyTargets = Array();
        var self = this;
        buddies.forEach(function (location) {
            if (!self.board[location.ring - 1][location.hour - 1] != 0) {
                emptyTargets.push(location);
            }
        });

        return emptyTargets; // returns TARGETS
    },
    countLiberties: function countLiberties(group) {
        var libArray = Array();
        for (var i = 0; i < group.length; i++) {
            var adjacencies = this.getAdjacentLiberties(group[i]);
            for (var j = 0; j < adjacencies.length; j++) {
                var notInGroup = true;
                for (var m = 0; m < libArray.length; m++) {
                    if (libArray[m] === adjacencies[j]) {
                        notInGroup = false;
                    }
                }
                if (notInGroup) {
                    libArray.push(adjacencies[j]);
                }
            }
        }
        if (libArray.length >= 1) {
            return libArray.length;
        } else {
            return 0;
        }
    },
    getGroup: function getGroup(piece, group, color) {
        if (group === undefined) {
            var group = Array();
        } // create our container if we're at the top of the descent path
        if (color === undefined) {
            var color = piece.color;
        }
        if (color === piece.color) {
            group.push(piece); // add the piece in question.
            var buddies = this.getAdjacent(piece); // get all friends
            for (var i = 0; i < buddies.length; i++) {
                var notInGroup = true;
                for (var j = 0; j < group.length; j++) {
                    if (JSON.stringify(buddies[i]) === JSON.stringify(group[j])) {
                        notInGroup = false;
                    }
                }
                if (notInGroup === true) {
                    this.getGroup(buddies[i], group, color);
                }
            }
        }
        return group;
    }
});
exports['default'] = Board;
module.exports = exports['default'];

},{"./BoardActions":16,"./Transport":17,"./Validators":18,"immutable":"immutable","reflux":"reflux"}]},{},[11]);
